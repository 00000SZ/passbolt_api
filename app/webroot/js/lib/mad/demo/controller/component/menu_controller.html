<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
	<head>
		<title>Component Menu Controller Example</title>
		<script type='text/javascript' src='../../../../steal/steal.js'></script>
		<style type='text/css'>
			
		</style>
	</head>
	<body>
		
<!-- -----------------------------------------------------------------------
												DEMO HTML BLOCK
 -------------------------------------------------------------------------->
<div id="demo-html">
<div id="js_demo_app_controller">
	<h3>Menu representation</h3>
	<button>click to deploy the menu</button>
</div>
</div>

<!-- -----------------------------------------------------------------------
												DEMO JAVASCRIPT BLOCK
 -------------------------------------------------------------------------->
<script type='text/javascript'>
steal(
	'mad/demo/init.js'
).then(function() {
	
	var data = new Array(
		{ 'MenuItem': new mad.model.MenuItem({ 'id': uuid(), 'label': 'open', 'action': function() { console.log('Menu Open')} }) },
		{ 'MenuItem': new mad.model.MenuItem({ 'id': uuid(), 'label': 'create', 'action': function() { console.log('Menu Create')} }),
			'children' : [
				{ 'MenuItem': new mad.model.MenuItem({ 'id': uuid(), 'label': 'secret', 'action': function() { console.log('Menu Create Secret')} }) },
				{ 'MenuItem': new mad.model.MenuItem({ 'id': uuid(), 'label': 'category', 'action': function() { console.log('Menu Create Category')} }) }
			]
		}
	);
	// Instanciate the menu controller
	$('button').click(function(){
		var $menu = $('<ul id="js_demo_menu_controller"></ul>');
		$(this).after($menu);
		var list = new mad.controller.component.MenuController($menu, {}, {});
		list.load(data);	
	});
});
</script>

	</body>
</html>